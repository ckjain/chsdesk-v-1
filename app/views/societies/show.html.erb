	    <%= render 'shared/dhtmlx_stylesheet' %>
    	<%= render 'shared/dhtmlx_javascript' %>

<div class="row-fluid">
  <div class="span12">
    <ul class="breadcrumb">
    <li><a href="http://localhost:3000">Dashboard</a> <span class="divider">/</span></li>                                      
	<li class="active">Societies </li>
    	<%= render 'shared/buttons_less' %>
    </ul>
  </div><!--/span-->
</div>

  <div class="row-fluid">
    <div class="span12">
    <div id="recinfoArea"></div>
    <div id="grid_society" style="width:100%; height:500px; background-color:white;overflow:hidden"></div>
    <div id="pagingArea"></div>

	<script type="text/javascript" charset="utf-8">
		var grid = new dhtmlXGridObject("grid_society");
		grid.setImagePath("imgs/");
		grid.setHeader("Name, Number_of_flats, Active, Address_line1, Address line2, City, Pincode, State, Country, Address line1, Address line2, City, Pin, Plot No, RegistrationNo, Ward No");
		grid.setColSorting("str,int,str,str,str,str,str,str,str,str,str,str,str,str,str,str");
		grid.setInitWidths("150,50,60,100,100,80,80,70,60,100,100,80,60,100,100,*");
		grid.setColAlign("left,center,left,left,left,left,left,left,left,left,left,left,left,left,left,left");
		grid.setColTypes("ed,ed,acheck,ed,ed,ed,ed,ed,ed,ed,ed,ed,ed,ed,ed,ed");
		grid.setSkin("sbdark");
		grid.enableMultiselect(true);
		grid.enableMultiline(false);
		grid.enableValidation(true);
		grid.enablePaging(true, 15, 3, "pagingArea", true, "recinfoArea");
		grid.setPagingSkin("bricks");
		grid.init();
		grid.load("societies/data.xml", function() {
	    grid.forEachRow(function(id) {
	    grid.cells(id, 0).cell.className = 'not_m_line';
	    });
		});
	
			dp = new dataProcessor("societies/dbaction.xml/");
			dp.init(grid);
			
			function clear_filter(){
				grid.filterBy(0,"");
				grid._f_rowsBuffer = null;
			}
			function add(){
				clear_filter();
				grid.addRow(grid.uid(), 'new Society');
			}
			function remove(){
				clear_filter();
				grid.deleteSelectedRows();
			}
	</script>
    </div>
  </div>